---
interface Props {
  class?: string;
}

const { class: className = "" } = Astro.props;
---

<div class={`retro-grid ${className}`}>
  <div class="retro-grid-inner"></div>
  <div class="retro-grid-gradient"></div>
</div>

<style>
  .retro-grid {
    pointer-events: none;
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    opacity: 0.15;
    perspective: 200px;
  }

  .retro-grid-inner {
    position: absolute;
    inset: 0;
    transform: rotateX(35deg);
  }

  .retro-grid-inner::before {
    content: "";
    position: absolute;
    inset: 0% 0px;
    margin-left: -50%;
    width: 600vw;
    height: 300vh;
    transform-origin: 100% 0 0;
    background-image:
      linear-gradient(to right, rgba(244, 63, 94, 0.3) 1px, transparent 0),
      linear-gradient(to bottom, rgba(244, 63, 94, 0.3) 1px, transparent 0);
    background-size: 60px 60px;
    background-repeat: repeat;
    animation: grid 15s linear infinite;
  }

  .retro-grid-gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgb(255, 255, 255), transparent 90%);
  }

  @keyframes grid {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(60px);
    }
  }
</style>
